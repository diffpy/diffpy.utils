

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Utilities &mdash; diffpy.utils 3.6.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=43a26aad"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../_static/copybutton.js?v=cca77546"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Examples" href="../examples/examples.html" />
    <link rel="prev" title="Release notes" href="../release.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            diffpy.utils
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">Release notes</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/diffpy.utils.html">Package API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">diffpy.utils</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Utilities</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/diffpy/diffpy.utils/blob/main/docs/source/utilities/utilities.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="id1">
<h1><a class="toc-backref" href="#id7" role="doc-backlink">Utilities</a><a class="headerlink" href="#id1" title="Link to this heading"></a></h1>
<p>Overview of utilities offered by <code class="docutils literal notranslate"><span class="pre">diffpy.utils</span></code>.
Check the <a class="reference internal" href="../examples/examples.html#examples"><span class="std std-ref">examples</span></a> provided for how to use these.</p>
<nav class="contents" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#id1" id="id7">Utilities</a></p>
<ul>
<li><p><a class="reference internal" href="#parsers-utility" id="id8">Parsers Utility</a></p></li>
<li><p><a class="reference internal" href="#resample-utility" id="id9">Resample Utility</a></p></li>
<li><p><a class="reference internal" href="#tools-utility" id="id10">Tools Utility</a></p></li>
<li><p><a class="reference internal" href="#transforms-utility" id="id11">Transforms Utility</a></p></li>
<li><p><a class="reference internal" href="#diffraction-objects-utility" id="id12">Diffraction Objects Utility</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="parsers-utility">
<span id="id2"></span><h2><a class="toc-backref" href="#id8" role="doc-backlink">Parsers Utility</a><a class="headerlink" href="#parsers-utility" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">diffpy.utils.parsers</span></code> module allows users to easily and robustly load file data into a Python project.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">loaddata.loadData()</span></code>: Find and load a data table/block from a text file. This seems to work for most datafiles
including those generated by diffpy programs. Running only <code class="docutils literal notranslate"><span class="pre">numpy.loadtxt</span></code> will result in errors
for most these files as there is often excess data or parameters stored above the data block.
Users can instead choose to load all the parameters of the form <code class="docutils literal notranslate"><span class="pre">&lt;param_name&gt;</span> <span class="pre">=</span> <span class="pre">&lt;param_value&gt;</span></code> into a dictionary
with this function by setting the <code class="docutils literal notranslate"><span class="pre">header</span></code> parameter to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>The program identifies data blocks as the first matrix block with a constant number of columns.
A user can tune the minimum number of rows this matrix block must have.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">serialization.deserialize_data()</span></code>: Load data from a serial file format into a Python dictionary. Currently, the only supported
serial format is <code class="docutils literal notranslate"><span class="pre">.json</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">serialization.serialize_data()</span></code>: Serialize the data generated by <code class="docutils literal notranslate"><span class="pre">loadData()</span></code> into a serial file format. Currently, the only
supported serial format is <code class="docutils literal notranslate"><span class="pre">.json</span></code>.</p></li>
</ul>
<p>For a more in-depth tutorial for how to use these parser utilities, click <a class="reference internal" href="../examples/parsers_example.html#parsers-example"><span class="std std-ref">here</span></a>.</p>
</section>
<section id="resample-utility">
<span id="id3"></span><h2><a class="toc-backref" href="#id9" role="doc-backlink">Resample Utility</a><a class="headerlink" href="#resample-utility" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">wsinterp()</span></code>: Allows users easily resample a PDF onto another grid.
This makes use of the Whittaker-Shannon interpolation formula.
To see the theory behind how this interpolation works and how to use
it in practice, click <a class="reference internal" href="../examples/resample_example.html#resample-example"><span class="std std-ref">here</span></a>.</p></li>
</ul>
</section>
<section id="tools-utility">
<span id="id4"></span><h2><a class="toc-backref" href="#id10" role="doc-backlink">Tools Utility</a><a class="headerlink" href="#tools-utility" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">diffpy.utils.tools</span></code> module provides tool functions for use with diffpy apps.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">get_user_info()</span></code>: This function is designed for managing and tracking user information (name, email, orcid).
Developers can use this function to simplify the process of loading, merging, and saving information consistently and easily.
Additionally, it saves the effort of re-entering information, and allows overriding current information by
passing parameters.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">check_and_build_global_config()</span></code>: This function helps create a global configuration file
that can be used by, for example, <code class="docutils literal notranslate"><span class="pre">get_user_info()</span></code>.
If no existing configuration file is found, this function prompts for information.
The provided inputs are then saved to a global configuration file.
This file can be reused later by <code class="docutils literal notranslate"><span class="pre">get_user_info()</span></code> to ensure that the work credits and user information are consistently stored.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_package_info()</span></code>: This function loads package name and version information into a dictionary.
It updates the package information under the key “package_info” in the format {“package_name”: “version_number”},
resulting in an entry in the passed metadata dictionary that looks like
<code class="docutils literal notranslate"><span class="pre">{&quot;package_info&quot;:</span> <span class="pre">{&quot;package1&quot;:</span> <span class="pre">&quot;version_number1&quot;,</span> <span class="pre">&quot;package2&quot;:</span> <span class="pre">&quot;version_number2&quot;}</span></code> if the function is called more than
once.</p>
<p>Users can use these functions to track and manage versions of packages that can later be stored, for example, in an output
file header.</p>
</li>
</ul>
<p>For a more in-depth tutorial for how to use these tools, click <a class="reference internal" href="../examples/tools_example.html#tools-example"><span class="std std-ref">here</span></a>.</p>
</section>
<section id="transforms-utility">
<span id="id5"></span><h2><a class="toc-backref" href="#id11" role="doc-backlink">Transforms Utility</a><a class="headerlink" href="#transforms-utility" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">diffpy.utils.transforms</span></code> module provides a set of functions for managing and analyzing diffraction data,
including angle-space transformations between <code class="docutils literal notranslate"><span class="pre">q</span></code>, <code class="docutils literal notranslate"><span class="pre">2theta</span></code>, and <code class="docutils literal notranslate"><span class="pre">d</span></code>-spacing.</p>
<p>These functions allow developers to standardize diffraction data and convert it between different spacings,
simplifying analysis, visualization, and processing.
They are also internally used by the <code class="docutils literal notranslate"><span class="pre">DiffractionObject</span></code> class for efficient data manipulation.
For more information about this, click <span class="xref std std-ref">here</span>.</p>
<p>For a more in-depth tutorial for how to use these functions, click <a class="reference internal" href="../examples/transforms_example.html#transforms-example"><span class="std std-ref">here</span></a>.</p>
</section>
<section id="diffraction-objects-utility">
<span id="id6"></span><h2><a class="toc-backref" href="#id12" role="doc-backlink">Diffraction Objects Utility</a><a class="headerlink" href="#diffraction-objects-utility" title="Link to this heading"></a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">diffpy.utils.diffraction_objects</span></code> module provides a set of powerful functions for analyzing diffraction data.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">DiffractionObject()</span></code>: This function creates a diffraction object that stores your diffraction data
and associated information. If a <code class="docutils literal notranslate"><span class="pre">wavelength</span></code> is specified, it can automatically populate data
across different independent axes (e.g., <code class="docutils literal notranslate"><span class="pre">q</span></code>, <code class="docutils literal notranslate"><span class="pre">tth</span></code>, and <code class="docutils literal notranslate"><span class="pre">d</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">on_xtype()</span></code>: This function allows developers to access diffraction data on different independent axes
(<code class="docutils literal notranslate"><span class="pre">q</span></code>, <code class="docutils literal notranslate"><span class="pre">tth</span></code>, and <code class="docutils literal notranslate"><span class="pre">d</span></code>).
It is useful when you need to convert or view the data between axes,
working with the axis that best fits your analysis.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">get_array_index()</span></code>: This function finds the closest index in the independent variable axis (<code class="docutils literal notranslate"><span class="pre">xarray</span></code>)
to a targeted value. It simplifies the process of working with different spacing.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">scale_to()</span></code>: This function rescales one diffraction object to align with another at a specific value.
This is helpful for comparing diffraction data with different intensity values or lengths,
ensuring they are directly comparable and visually aligned.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">copy()</span></code>: This function creates a deep copy of a diffraction object,
allowing you to preserve the original data while making modifications to a separate copy.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dump()</span></code>: This function saves both diffraction data and all associated information to a file.
It also automatically tracks the analysis time and software version you used.</p></li>
</ul>
<p>For a more in-depth tutorial for how to use these tools, click <a class="reference internal" href="../examples/diffraction_objects_example.html#diffraction-objects-example"><span class="std std-ref">here</span></a>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../release.html" class="btn btn-neutral float-left" title="Release notes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../examples/examples.html" class="btn btn-neutral float-right" title="Examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, The Trustees of Columbia University in the City of New York.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>